(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1799:(e,t,r)=>{Promise.resolve().then(r.bind(r,7947))},7947:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var l=r(5155),n=r(2115),o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=(e,t)=>{let r=(0,n.forwardRef)((r,l)=>{let{color:a="currentColor",size:u=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:d="",children:m,...f}=r;return(0,n.createElement)("svg",{ref:l,...o,width:u,height:u,stroke:a,strokeWidth:i?24*Number(c)/Number(u):c,className:["lucide","lucide-".concat(s(e)),d].join(" "),...f},[...t.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r},u=a("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),c=a("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),i=a("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),d=a("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),m=a("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),f=a("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),h=e=>{let t=[];for(let r=0;r<9;r++){let l=x(e,r);t.push(...l)}for(let r=0;r<9;r++){let l=p(e,r);t.push(...l)}for(let r=0;r<3;r++)for(let l=0;l<3;l++){let n=g(e,r,l);t.push(...n)}return t},x=(e,t)=>{let r=[],l={};for(let r=0;r<9;r++){let n=e[t][r];"."!==n&&(l[n]||(l[n]=[]),l[n].push({row:t,col:r}))}for(let[e,t]of Object.entries(l))t.length>1&&r.push({type:"row",value:e,positions:t});return r},p=(e,t)=>{let r=[],l={};for(let r=0;r<9;r++){let n=e[r][t];"."!==n&&(l[n]||(l[n]=[]),l[n].push({row:r,col:t}))}for(let[e,t]of Object.entries(l))t.length>1&&r.push({type:"column",value:e,positions:t});return r},g=(e,t,r)=>{let l=[],n={},o=3*t,s=3*r;for(let t=0;t<3;t++)for(let r=0;r<3;r++){let l=o+t,a=s+r,u=e[l][a];"."!==u&&(n[u]||(n[u]=[]),n[u].push({row:l,col:a}))}for(let[e,t]of Object.entries(n))t.length>1&&l.push({type:"box",value:e,positions:t});return l},y=e=>0===e.length?"":e.map(e=>{let t="row"===e.type?"row ".concat(e.positions[0].row+1):"column"===e.type?"column ".concat(e.positions[0].col+1):"box at ".concat(Math.floor(e.positions[0].row/3)+1,",").concat(Math.floor(e.positions[0].col/3)+1);return"Duplicate ".concat(e.value," in ").concat(t)}).join("; "),b=(e,t,r)=>{let l="border border-gray-300",n="",o="",s="";return e?(n="hover:bg-blue-50 focus:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:z-10 ",o="text-blue-700 ",s="bg-white "):(n="cursor-default ",o=t?"text-gray-900 font-semibold ":"text-gray-700 ",s="bg-gray-50 "),r&&(s="bg-red-50 ",o="text-red-700 ",l="border border-red-300 ring-1 ring-red-500 "),"w-10 h-10 sm:w-12 sm:h-12 text-center text-xl sm:text-2xl font-medium transition-colors duration-150 "+l+n+o+s};function v(){let[e,t]=(0,n.useState)(Array(9).fill(null).map(()=>Array(9).fill("."))),[r,o]=(0,n.useState)(Array(9).fill(null).map(()=>Array(9).fill("."))),[s,a]=(0,n.useState)(null),[x,p]=(0,n.useState)(!1),[g,v]=(0,n.useState)(null),[w,k]=(0,n.useState)(null),[j,N]=(0,n.useState)([]),A=(0,n.useRef)(Array(9).fill(null).map(()=>Array(9).fill(null)));(0,n.useEffect)(()=>{C(0,-1)},[]);let C=(e,t)=>{var l,n,o,s,a,u,c,i;let d=t+1;for(let t=e;t<9;t++){for(let e=d;e<9;e++)if("."===r[t][e]){null===(n=A.current[t])||void 0===n||null===(l=n[e])||void 0===l||l.focus(),null===(s=A.current[t])||void 0===s||null===(o=s[e])||void 0===o||o.select();return}d=0}for(let l=0;l<=e;l++)for(let n=0;n<(l===e?t+1:9);n++)if("."===r[l][n]){null===(u=A.current[l])||void 0===u||null===(a=u[n])||void 0===a||a.focus(),null===(i=A.current[l])||void 0===i||null===(c=i[n])||void 0===c||c.select();return}},z=(e,l,n)=>{let s=n.match(/^[1-9]$/)?n:".",u=r.map((t,r)=>t.map((t,n)=>r===e&&n===l?s:t)),c=h(u);N(c),o(u),t(u),a(null),c.length>0?v(y(c)):v(null),k(null)},S=(e,t,l)=>{let n=t,o=l,s=!0;switch(e.key){case"ArrowUp":n=t>0?t-1:8,e.preventDefault();break;case"ArrowDown":n=t<8?t+1:0,e.preventDefault();break;case"ArrowLeft":o=l>0?l-1:8,0===l&&(n=t>0?t-1:8),e.preventDefault();break;case"ArrowRight":o=l<8?l+1:0,8===l&&(n=t<8?t+1:0),e.preventDefault();break;case"Backspace":case"Delete":e.preventDefault(),"."!==r[t][l]?(z(t,l,""),n=t,o=l):(o=l>0?l-1:8,0===l&&(n=t>0?t-1:8));break;case"Enter":e.preventDefault(),E(),s=!1;break;default:/^[1-9]$/.test(e.key)?(setTimeout(()=>{C(t,l)},0),s=!1):/^[a-zA-Z]$/.test(e.key)||(e.preventDefault(),s=!1);return}if(s){var a,u,c,i;null===(u=A.current[n])||void 0===u||null===(a=u[o])||void 0===a||a.focus(),null===(i=A.current[n])||void 0===i||null===(c=i[o])||void 0===c||c.select()}},E=async()=>{p(!0),v(null),k(null),a(null);let e=r.map(e=>[...e]);t(e);let l=h(e);if(l.length>0){p(!1),v(y(l));return}try{let t=await fetch("/api/solve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({board:e})}),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to solve the puzzle (Status: ".concat(t.status,")"));a(r.solvedBoard),k("Puzzle solved successfully!")}catch(e){console.error("Error solving sudoku:",e),v(e instanceof Error?e.message:"An unknown error occurred"),a(null)}finally{p(!1)}},M=(e,t,r)=>(0,l.jsx)("div",{className:"grid grid-cols-9 gap-0 border-2 border-gray-400 rounded-md overflow-hidden shadow-md w-fit mx-auto aspect-square",children:e.map((e,n)=>e.map((e,o)=>{var s;let a=(o+1)%3==0&&o<8,u=(n+1)%3==0&&n<8,c="\n              ".concat(a?"border-r-2 border-r-gray-400":"","\n              ").concat(u?"border-b-2 border-b-gray-400":"","\n            "),i=!t&&(null==r?void 0:null===(s=r[n])||void 0===s?void 0:s[o])!==".";return(0,l.jsx)("input",{ref:e=>{A.current[n]&&(A.current[n][o]=e)},type:"text",inputMode:"numeric",pattern:"[1-9]",maxLength:1,value:"."===e?"":e,onChange:e=>t&&z(n,o,e.target.value),onKeyDown:e=>t&&S(e,n,o),readOnly:!t,className:"relative ".concat(b(t,!!i,j.some(e=>e.positions.some(e=>e.row===n&&e.col===o)))," ").concat(c),"aria-label":"Cell R".concat(n+1,"C").concat(o+1)},"".concat(n,"-").concat(o))}))});return(0,l.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-4 sm:p-8 bg-gradient-to-br from-gray-50 to-blue-100 font-sans",children:(0,l.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-xl w-full max-w-md sm:max-w-lg",children:[(0,l.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold mb-5 sm:mb-6 text-center text-gray-800",children:"Sudoku Solver"}),(0,l.jsx)("p",{className:"mb-5 text-center text-gray-600 text-sm sm:text-base",children:"Enter a puzzle (1-9), leave cells blank, and click Solve."}),M(r,!0),(0,l.jsxs)("div",{className:"flex flex-wrap justify-center gap-3 sm:gap-4 mt-6 sm:mt-8",children:[(0,l.jsxs)("button",{onClick:E,disabled:x,className:"inline-flex items-center justify-center px-5 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-60 disabled:cursor-not-allowed transition duration-200 shadow-sm hover:shadow-md",children:[x?(0,l.jsx)(u,{className:"animate-spin h-4 w-4 mr-2"}):null,x?"Solving...":"Solve Puzzle"]}),(0,l.jsxs)("button",{onClick:()=>{var e,r;let l=Array(9).fill(null).map(()=>Array(9).fill("."));o(l),t(l),a(null),v(null),k(null),N([]),null===(r=A.current[0])||void 0===r||null===(e=r[0])||void 0===e||e.focus()},disabled:x,className:"inline-flex items-center justify-center px-5 py-2.5 bg-gray-500 text-white text-sm font-medium rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 disabled:opacity-60 disabled:cursor-not-allowed transition duration-200 shadow-sm hover:shadow-md",children:[(0,l.jsx)(c,{className:"h-4 w-4 mr-2"}),"Clear Board"]})]}),g&&(0,l.jsxs)("div",{className:"mt-6 p-3 bg-red-50 border border-red-200 rounded-md flex items-center gap-3",children:[(0,l.jsx)(i,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),(0,l.jsxs)("p",{className:"text-sm text-red-700 font-medium",children:["Error: ",g]}),(0,l.jsx)("button",{onClick:()=>v(null),className:"ml-auto text-red-500 hover:text-red-700",children:(0,l.jsx)(d,{className:"h-4 w-4"})})]}),w&&!g&&(0,l.jsxs)("div",{className:"mt-6 p-3 bg-green-50 border border-green-200 rounded-md flex items-center gap-3",children:[(0,l.jsx)(m,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),(0,l.jsx)("p",{className:"text-sm text-green-700 font-medium",children:w}),(0,l.jsx)("button",{onClick:()=>k(null),className:"ml-auto text-green-500 hover:text-green-700",children:(0,l.jsx)(d,{className:"h-4 w-4"})})]}),s&&(0,l.jsxs)("div",{className:"mt-8 sm:mt-10 border-t pt-6 border-gray-200",children:[(0,l.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold mb-4 text-center text-gray-800",children:"Solved Puzzle:"}),M(s,!1,e),(0,l.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mt-6",children:(0,l.jsxs)("a",{href:"https://sudoku.com/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-5 py-2.5 bg-purple-600 text-white text-sm font-medium rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition duration-200 shadow-sm hover:shadow-md",children:["Verify on sudoku.com",(0,l.jsx)(f,{className:"h-4 w-4 ml-2"})]})}),(0,l.jsx)("p",{className:"mt-4 text-center text-xs sm:text-sm text-gray-600",children:"Manually enter the original puzzle and the solved numbers on sudoku.com to verify."})]}),(0,l.jsx)("p",{className:"mt-8 text-xs text-gray-500 text-center",children:"Powered by a Go-based Sudoku solver."})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(1799)),_N_E=e.O()}]);